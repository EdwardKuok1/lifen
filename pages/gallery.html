<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>丽芬 · Gallery</title>
    <style>
      :root {
        --cursor-x: 50%;
        --cursor-y: 50%;
        --glow-intensity: 0.35;
        color-scheme: dark;
        font-family: "Inter", "Segoe UI", system-ui, -apple-system, sans-serif;
      }

      *, *::before, *::after {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: stretch;
        background-color: #020203;
        background-image:
          radial-gradient(
            circle at var(--cursor-x) var(--cursor-y),
            rgba(120, 142, 255, var(--glow-intensity)),
            transparent 50%
          ),
          radial-gradient(
            circle at calc(var(--cursor-x) + 12%) calc(var(--cursor-y) + 18%),
            rgba(255, 88, 176, calc(var(--glow-intensity) * 0.6)),
            transparent 60%
          ),
          radial-gradient(
            circle at calc(var(--cursor-x) - 20%) calc(var(--cursor-y) - 12%),
            rgba(54, 217, 182, calc(var(--glow-intensity) * 0.45)),
            transparent 65%
          ),
          linear-gradient(135deg, #03030a, #050312 40%, #020203 80%);
        color: #f8f8ff;
        transition: background 120ms ease-out;
      }

      body::before,
      body::after {
        content: "";
        position: fixed;
        inset: 0;
        pointer-events: none;
      }

      body::before {
        background:
          radial-gradient(circle, rgba(255, 255, 255, 0.15) 0%, transparent 60%)
            repeat;
        mix-blend-mode: soft-light;
        opacity: 0.15;
      }

      body::after {
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='160' height='160' viewBox='0 0 160 160'%3E%3Cpath fill='rgba(255,255,255,0.03)' d='M0 0h80v80H0zM80 80h80v80H80z'/%3E%3C/svg%3E");
        opacity: 0.08;
        mix-blend-mode: screen;
      }

      header {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        padding: 1.25rem 5vw;
        display: flex;
        justify-content: space-between;
        align-items: center;
        background: rgba(5, 5, 12, 0.6);
        backdrop-filter: blur(12px);
        border-bottom: 1px solid rgba(255, 255, 255, 0.08);
        z-index: 3;
      }

      .logo {
        letter-spacing: 0.2em;
        text-transform: uppercase;
        font-size: 0.9rem;
        font-weight: 600;
        color: #dfe6ff;
        text-decoration: none;
        display: inline-flex;
        align-items: center;
        gap: 0.4rem;
        transition: color 180ms ease-out;
      }

      .logo:hover,
      .logo:focus-visible {
        color: #ffffff;
      }

      nav {
        display: flex;
        gap: 1.5rem;
      }

      nav a {
        position: relative;
        text-decoration: none;
        font-size: 0.95rem;
        color: rgba(255, 255, 255, 0.75);
        transition: color 180ms ease-out;
      }

      nav a::after {
        content: "";
        position: absolute;
        left: 0;
        right: 0;
        bottom: -0.4rem;
        height: 2px;
        background: linear-gradient(90deg, #8fd3ff, #fda5ff);
        opacity: 0;
        transform: scaleX(0.4);
        transition: opacity 180ms ease-out, transform 180ms ease-out;
      }

      nav a:hover,
      nav a:focus-visible,
      nav a[aria-current="page"] {
        color: #ffffff;
      }

      nav a:hover::after,
      nav a:focus-visible::after,
      nav a[aria-current="page"]::after {
        opacity: 1;
        transform: scaleX(1);
      }

      .content {
        flex: 1;
        padding: 7rem 0 4rem;
        display: flex;
        justify-content: center;
      }

      main {
        text-align: center;
        padding: 0 2rem;
        max-width: 1080px;
        width: min(1080px, 100%);
        margin: 0 auto;
        z-index: 1;
        display: flex;
        flex-direction: column;
        gap: 2rem;
        overflow-y: auto;
        overflow-x: hidden;
        scrollbar-width: thin;
        scrollbar-color: rgba(255, 255, 255, 0.35) transparent;
      }

      main::-webkit-scrollbar {
        width: 6px;
      }

      main::-webkit-scrollbar-track {
        background: transparent;
      }

      main::-webkit-scrollbar-thumb {
        background: rgba(255, 255, 255, 0.35);
        border-radius: 999px;
      }

      .intro {
        max-width: 760px;
        margin: 0 auto;
      }

      .eyebrow {
        font-size: 0.85rem;
        letter-spacing: 0.35em;
        text-transform: uppercase;
        color: rgba(255, 255, 255, 0.6);
        margin-bottom: 0.75rem;
      }

      h1 {
        font-size: clamp(2.5rem, 4.5vw, 3.85rem);
        margin-bottom: 1rem;
        letter-spacing: -0.02em;
      }

      p {
        font-size: clamp(1rem, 2vw, 1.2rem);
        color: rgba(255, 255, 255, 0.82);
        line-height: 1.7;
        margin: 0;
      }

      .gallery-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(420px, 1fr));
        gap: 2rem;
      }

      .gallery-card {
        margin: 0;
        display: flex;
        flex-direction: column;
        gap: 0.85rem;
        text-align: left;
        padding: 1.25rem;
        background: rgba(5, 5, 12, 0.7);
        border: 1px solid rgba(255, 255, 255, 0.08);
        border-radius: 1.5rem;
        box-shadow: 0 18px 45px rgba(3, 3, 10, 0.45);
        backdrop-filter: blur(8px);
        cursor: pointer;
      }

      .gallery-card:focus-visible {
        outline: 2px solid #8fd3ff;
        outline-offset: 6px;
      }

      .gallery-frame {
        border-radius: 1rem;
        overflow: hidden;
        position: relative;
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.08);
        padding: 1rem;
      }

      .gallery-frame img {
        width: 100%;
        height: auto;
        object-fit: contain;
        display: block;
      }

      .pill {
        display: inline-flex;
        align-items: center;
        gap: 0.35rem;
        font-size: 0.7rem;
        letter-spacing: 0.24em;
        text-transform: uppercase;
        padding: 0.3rem 0.85rem;
        border-radius: 999px;
        background: rgba(255, 255, 255, 0.12);
        border: 1px solid rgba(255, 255, 255, 0.15);
        color: rgba(255, 255, 255, 0.75);
        margin-bottom: 0.4rem;
      }

      .gallery-card h2 {
        margin: 0 0 0.4rem;
        font-size: 1.35rem;
      }

      .gallery-card p {
        font-size: 0.95rem;
        color: rgba(255, 255, 255, 0.72);
        line-height: 1.6;
      }

      .lightbox {
        position: fixed;
        inset: 0;
        background: rgba(2, 2, 10, 0.88);
        backdrop-filter: blur(8px);
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 2rem;
        opacity: 0;
        pointer-events: none;
        transition: opacity 220ms ease;
        z-index: 5;
      }

      .lightbox.is-open {
        opacity: 1;
        pointer-events: auto;
      }

      .lightbox__content {
        max-width: min(900px, 92vw);
        max-height: 90vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 1rem;
      }

      .lightbox__image {
        width: 100%;
        max-height: 75vh;
        object-fit: contain;
        border-radius: 1rem;
        box-shadow: 0 25px 55px rgba(0, 0, 0, 0.45);
        border: 1px solid rgba(255, 255, 255, 0.1);
        background: rgba(0, 0, 0, 0.3);
      }

      .lightbox__title {
        margin: 0;
        font-size: 1.5rem;
        letter-spacing: 0.05em;
      }

      .lightbox__meta {
        margin: 0;
        font-size: 0.95rem;
        color: rgba(255, 255, 255, 0.75);
      }

      .lightbox__close {
        position: absolute;
        top: 1.5rem;
        right: 1.5rem;
        width: 44px;
        height: 44px;
        border-radius: 999px;
        border: 1px solid rgba(255, 255, 255, 0.35);
        background: rgba(5, 5, 12, 0.6);
        color: #ffffff;
        font-size: 1.2rem;
        cursor: pointer;
      }

      @media (max-width: 640px) {
        header {
          flex-direction: column;
          gap: 0.75rem;
        }

        nav {
          gap: 1rem;
          flex-wrap: wrap;
          justify-content: center;
        }

        main {
          padding: 7rem 1.25rem 3rem;
        }

        .gallery-grid {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <a class="logo" href="home.html" aria-label="返回首页">EDWARD</a>
      <nav>
        <a href="gallery.html" aria-current="page">Gallery</a>
        <a href="audio.html">Audio</a>
        <a href="template.html">Templates</a>
      </nav>
    </header>

    <div class="content">
      <main>
        <section class="intro">
          <p class="eyebrow">Museum log</p>
          <h1>Li-Fen Exhibition Chronicle</h1>
          <p>
            一墙一景，都是丽芬姐的舞台。沉浸式的视觉档案室里，放大每一次活动、每一句口号、每一个眼神，用光影做纪念。
          </p>
        </section>

        <section class="gallery-grid" id="gallery-grid" aria-live="polite"></section>
      </main>
    </div>

    <div class="lightbox" id="lightbox" aria-modal="true" role="dialog">
      <button class="lightbox__close" type="button" aria-label="Close preview">&times;</button>
      <div class="lightbox__content">
        <img class="lightbox__image" alt="" />
        <h2 class="lightbox__title"></h2>
        <p class="lightbox__meta"></p>
      </div>
    </div>

    <script>
      const galleryManifest = [
        { src: "../gallery/AM_I_A_JOKE_TO_YOU.png", title: "AM I A JOKE TO YOU", medium: "Poster", description: "全大写的质问式倡议，强调每一次行动都值得认真以待。" },
        { src: "../gallery/为什么要霸凌老师？.png", title: "为什么要霸凌老师？", medium: "Classroom", description: "把课堂里最直接的提问放上展板，守住讨论的底线。" },
        { src: "../gallery/互动.png", title: "互动", medium: "Chorus", description: "合唱暖身的手势练习，让舞台外的默契先点燃。" },
        { src: "../gallery/从学术上判断.png", title: "从学术上判断", medium: "Debate", description: "把学术语言搬进日常，让每个论点都有证据护体。" },
        { src: "../gallery/低调上_meet.png", title: "低调上 · meet", medium: "Meeting", description: "线上会议的截图式纪念，低调却瞒不住的野心。" },
        { src: "../gallery/关我屁事.png", title: "关我屁事", medium: "Campaign", description: "用一句俏皮回击冷漠，把旁观者重新拉回现场。" },
        { src: "../gallery/危.png", title: "危", medium: "Signal", description: "只用一个字提醒，危机意识本身就是设计。" },
        { src: "../gallery/大展宏圖.png", title: "大展宏圖", medium: "Ambition", description: "复古排版混合手写感，宣示“搞事情”版图继续扩张。" },
        { src: "../gallery/大胆假设，小心求证。.png", title: "大胆假设，小心求证。", medium: "Workshop", description: "工作坊的精神口号，一半浪漫一半严谨。" },
        { src: "../gallery/安娣！不要插队！.png", title: "安娣！不要插队！", medium: "Community", description: "菜市场语气的秩序宣导，热闹又有效。" },
        { src: "../gallery/开席喽.png", title: "开席喽", medium: "Camp Kitchen", description: "生活营开饭瞬间，香气和笑声一起炸裂。" },
        { src: "../gallery/彻底裂开.png", title: "彻底裂开", medium: "Athletics", description: "赛场上抓到翻车瞬间，笑着复盘才是成长。" },
        { src: "../gallery/惨.png", title: "惨", medium: "Mood Board", description: "用最夸张的表情管理崩溃，把低谷也晒出来。" },
        { src: "../gallery/我就是个球.png", title: "我就是个球", medium: "Sports", description: "球场自嘲式宣言，滚动就是一种态度。" },
        { src: "../gallery/拿淋kok头.png", title: "拿淋 kok 头", medium: "Comedy", description: "把现场的口头梗封存成海报，笑点延长播放。" },
        { src: "../gallery/正式上课.png", title: "正式上课", medium: "Lecture", description: "开学铃声一响，组织的仪式感就位。" },
        { src: "../gallery/炸出来.png", title: "炸出来", medium: "Studio", description: "灵感爆炸的那秒，必须截图保留。" },
        { src: "../gallery/看我大显神威！.png", title: "看我大显神威！", medium: "Performance", description: "舞台前的自我打气，用标点符号加码气势。" },
        { src: "../gallery/老师关心你.png", title: "老师关心你", medium: "Announcement", description: "温柔版的提醒，严肃议题也能软着陆。" },
        { src: "../gallery/考试喽！.png", title: "考试喽！", medium: "Academia", description: "在备考倒计时里，幽默感是最好的护身符。" },
        { src: "../gallery/肖像权.png", title: "肖像权", medium: "Rights", description: "把法律意识放上墙，提醒大家保留同意。" },
        { src: "../gallery/自强不息.png", title: "自强不息", medium: "Motto", description: "写在旗帜上的日常座右铭，越喊越有力量。" },
        { src: "../gallery/设备问题.png", title: "设备问题", medium: "Tech", description: "最真实的制作后台：永远有人在 debug。" },
        { src: "../gallery/误会啦！.png", title: "误会啦！", medium: "Dialogue", description: "用巨幅文字化解尴尬，公开澄清也能很可爱。" },
        { src: "../gallery/超前部署.png", title: "超前部署", medium: "Strategy", description: "把计划摊在墙上，提前部署才有底气。" },
        { src: "../gallery/这轮粗.png", title: "这轮粗", medium: "Prototype", description: "粗糙草稿也能进展厅，因为热情本来就长这样。" }
      ];

      const root = document.documentElement;
      const intensityRange = [0.2, 0.45];
      const clamp = (value, min, max) => Math.min(Math.max(value, min), max);

      const updateCursor = (x, y) => {
        const xPercent = clamp((x / window.innerWidth) * 100, 0, 100);
        const yPercent = clamp((y / window.innerHeight) * 100, 0, 100);
        root.style.setProperty("--cursor-x", `${xPercent}%`);
        root.style.setProperty("--cursor-y", `${yPercent}%`);

        const proximityToCenter = 1 - Math.hypot(xPercent - 50, yPercent - 50) / 70;
        const eased = clamp(proximityToCenter, 0, 1) ** 1.5;
        const intensity = intensityRange[0] + eased * (intensityRange[1] - intensityRange[0]);
        root.style.setProperty("--glow-intensity", intensity.toFixed(3));
      };

      let rafHandle;
      const queueUpdate = (x, y) => {
        if (rafHandle) cancelAnimationFrame(rafHandle);
        rafHandle = requestAnimationFrame(() => updateCursor(x, y));
      };

      document.addEventListener("pointermove", (event) => {
        queueUpdate(event.clientX, event.clientY);
      });

      document.addEventListener("pointerleave", () => {
        queueUpdate(window.innerWidth / 2, window.innerHeight / 2);
      });

      window.addEventListener("resize", () => {
        queueUpdate(window.innerWidth / 2, window.innerHeight / 2);
      });

      queueUpdate(window.innerWidth / 2, window.innerHeight / 2);

      const galleryGrid = document.getElementById("gallery-grid");
      const lightbox = document.getElementById("lightbox");
      const lightboxImage = lightbox.querySelector(".lightbox__image");
      const lightboxTitle = lightbox.querySelector(".lightbox__title");
      const lightboxMeta = lightbox.querySelector(".lightbox__meta");
      const closeButton = lightbox.querySelector(".lightbox__close");

      const openLightbox = (index) => {
        const work = galleryManifest[index];
        if (!work) return;
        lightboxImage.src = work.src;
        lightboxImage.alt = work.title;
        lightboxTitle.textContent = work.title;
        lightboxMeta.textContent = work.description;
        lightbox.classList.add("is-open");
        closeButton.focus();
        document.body.style.overflow = "hidden";
      };

      const closeLightbox = () => {
        lightbox.classList.remove("is-open");
        lightboxImage.src = "";
        document.body.style.overflow = "";
      };

      if (galleryGrid) {
        if (!galleryManifest.length) {
          galleryGrid.innerHTML =
            '<div class="empty-state">Upload images to the gallery folder to populate this wall.</div>';
        } else {
          galleryGrid.innerHTML = galleryManifest
            .map(
              (work, index) => `
                <figure class="gallery-card" data-work-index="${index}" tabindex="0">
                  <div class="gallery-frame">
                    <img src="${work.src}" alt="${work.title}" loading="lazy" />
                  </div>
                  <figcaption>
                    <p class="pill">${work.medium}</p>
                    <h2>${work.title}</h2>
                    <p>${work.description}</p>
                  </figcaption>
                </figure>
              `
            )
            .join("");

          galleryGrid.addEventListener("click", (event) => {
            const card = event.target.closest(".gallery-card");
            if (!card) return;
            const index = Number(card.dataset.workIndex);
            openLightbox(index);
          });

          galleryGrid.addEventListener("keydown", (event) => {
            if (event.key !== "Enter" && event.key !== " ") return;
            const card = event.target.closest(".gallery-card");
            if (!card) return;
            event.preventDefault();
            const index = Number(card.dataset.workIndex);
            openLightbox(index);
          });
        }
      }

      closeButton.addEventListener("click", closeLightbox);
      lightbox.addEventListener("click", (event) => {
        if (event.target === lightbox) {
          closeLightbox();
        }
      });

      document.addEventListener("keydown", (event) => {
        if (event.key === "Escape" && lightbox.classList.contains("is-open")) {
          closeLightbox();
        }
      });
    </script>
  </body>
</html>
